

FIT_LEDNICKY_FOLDER = ../FitLednicky
KLAM_ANALYZE_DIR = ../K0Lam/Analyze


LIBS   = $(shell root-config --libs) -lMinuit
CFLAGS = $(shell root-config --cflags) -Wall -I${KLAM_ANALYZE_DIR} -I${FIT_LEDNICKY_FOLDER}
#IFLAGS = -I$(ROOTSYS)/include
#.PHONY: clean

MY_LIBS = $(addprefix build/, FitParameter.o FitPartialAnalysis.o FitPairAnalysis.o FitSharedAnalyses.o LednickyFitter.o CfLite.o CfHeavy.o Types.o Faddeeva.o)


all: runTest

runTest: ${MY_LIBS} test.C
	g++ test.C ${MY_LIBS} -o runTest $(LIBS) $(CFLAGS)


build/%.o: ${KLAM_ANALYZE_DIR}/%.cxx ${KLAM_ANALYZE_DIR}/%.h
	g++ -c $< $(CFLAGS) -o $@

build/%.o: %.cxx %.h
	g++ -c $< $(CFLAGS) -o $@

build/%.o: ${FIT_LEDNICKY_FOLDER}/%.cc ${FIT_LEDNICKY_FOLDER}/%.hh
	g++ -c $< $(CFLAGS) -o $@



clean:
	rm -f runTest ${MY_LIBS}
